\documentclass[varwidth, border=6pt]{standalone}
\usepackage{algpseudocode}
\usepackage{algorithmicx}   % algorithmic environment
\usepackage{amsmath}
\usepackage{microtype}      % better spacing
\usepackage{caption}
\usepackage{graphicx}

% visual tweaks
\captionsetup{labelfont=bf, font=small}
\renewcommand{\algorithmiccomment}[1]{\hfill\(\triangleright\) #1}
\newcommand{\algspace}{\vspace{3pt}}

\begin{document}

\begingroup
\small                    % make content slightly smaller for compactness
\begin{center}
  \begin{minipage}{0.99\linewidth} % control width of block
    \hrule height 0.7pt
    \vspace{3pt}
    % \begin{center}
    Algorithm: VDN Training
    % \end{center}
    \vspace{3pt}
    \hrule height 0.7pt
    \vspace{6pt}

    % the pseudocode block (no floating algorithm environment)
    \begin{algorithmic}[1]
      \State Initialize $\theta$, the parameters of individual Q-networks, and $\theta^-$ the parameters of target networks.
      \State Initialize replay buffer $\mathcal{D}$ // $(\mathbf{o}_t,\mathbf{a}_t,r_t,done,\mathbf{o}_{t+1})$
      \While{$t < T$}
        \State Collect observations $\{o^t_1,\dots,o^t_n\}$
        \For{each agent $i$}
          \State With probability $\epsilon$, select random action $a_i^t$
          \State otherwise select $a_i^t = \arg\max_{a_i} Q_i(o^t_i,a_i)$
        \EndFor
        \State Execute joint action $\mathbf{a}^t = (a_1^t,\dots,a_n^t)$
        \State Collect $r^t$, $done^t$, and $\mathbf{o}^{t+1}$
        \State Store $(\mathbf{o}^t,\mathbf{a}^t,r^t,done^t,\mathbf{o}^{t+1})$ in $\mathcal{D}$
        \If{$t$ is a training step}
          \State Sample batch $\mathcal{B} = \{\mathbf{o}^b,\mathbf{a}^b,r^b,done^b,\mathbf{o'}^{b}\}$
          \State Set the targets
          \Statex
          \[
            y^b = r^b + \gamma (1 - done^b)\sum_i \max_{a'_i} Q_i(o_i^b,a'_i;\theta^-)
          \]
          \State Perform a gradient descent using:
          \Statex
          \[
            \mathcal{L}(\theta)=\tfrac{1}{|\mathcal{B}|}\sum_b\Big(y^b-\sum_i Q_i(o_i^b,a_i^b;\theta)\Big)^2
          \]
          \State Every $C$ steps, update $\theta^- \leftarrow \theta$
        \EndIf
      \EndWhile
    \end{algorithmic}

    \vspace{6pt}
    \hrule height 0.7pt
  \end{minipage}
\end{center}
\endgroup

\end{document}
